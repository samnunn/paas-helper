<!DOCTYPE html>
<html>
<head>
    <title>Clinic Helper</title>
    <link rel="stylesheet" href="/main.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#3498db" media="(prefers-color-scheme: dark)">
    <meta name="theme-color" content="#3498db" media="(prefers-color-scheme: light)">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
    <header>
        <div>
            <h1 id="site-title" class="mr-auto">😴 <span id="patient-details">Clinic Helper</span></h1>
            <select id="shortcuts-menu">
                <option value="initial" selected disabled>Shortcuts</option>
                <option id="quick-find-button">Quick Find (⌘K)</option>
                <option id="quick-add-button">Quick Add (⌘B)</option>
            </select>
            <button id="download">Download</button>
            <button id="reset">Reset</button>
            </div>
        </header>
        <main class="wrapped">
            <h2>Patient Details</h2>
            <section>
                <div class="input vstack">
                    <div class="hstack">
                        <label>Age<input type="number" id="" clinic-parameter="age" clinic-sync="age" clinic-search="Age" min="0" max="125" step="1" autocomplete="off" autofocus></label>
                        <label>
                            Sex
                            <div class="selectbox">
                                <select id="anthropometry-sex" clinic-parameter="sex" clinic-search="Sex" autocomplete="off">
                                    <option disabled selected value=""></option>
                                    <option value="M">Male</option>
                                    <option value="F">Female</option>
                                </select>
                            </div>
                        </label>
                        <label>Height (cm)<input type="number" step="0.1" min="0" max="300" id="height" clinic-parameter="height" clinic-search="Height" autocomplete="off"></label>
                        <label>Weight (kg)<input type="number" step="0.1"  min="0" max="400" id="weight" clinic-parameter="weight" clinic-search="Weight" autocomplete="off"></label>
                        <label>BMI ✨<input type="text" id="bmi" readonly autocomplete="off" clinic-parameter="bmi" clinic-search="BMI"></label>
                        <label>
                            Mode
                            <div class="selectbox">
                                <select id="mode" clinic-parameter="mode" clinic-sync="mode" clinic-search="Appointment Mode">
                                    <option value="" disabled selected></option>
                                    <option value="">Face-to-face</option>
                                    <option value="** TELEPHONE ASSESSMENT ONLY **">Telephone</option>
                                </select>
                            </div>
                        </label>
                    </div>
                    <div class="hstack">
                        <label>
                            Operation
                            <input type="text" id="" clinic-parameter="operation" clinic-search="Operation Name" autocomplete="off">
                        </label>
                    </div>
                </div>
                <div class="output visually-hidden">
                    <input class="copy" tabindex="1" value="Copy" type="button">
                    <div class="rendered-template"></div>
                    <template># Patient Details
- Name: {{fullname}}
- UMRN: {{umrn}}
- Age: {{age}}
- Sex: {{sex}}
- Appointment type: {{mode}}
- Height: {{height}}
- Weight: {{weight}}
- BMI: {{bmi}}
- Operation: {{operation}}</template>
                </div>
            </section>
            <h2>Medical History</h2>
            <section>
                <div class="input vstack">
                    <label>
                        PMHx
                        <textarea autocomplete="off" autocapitalize="off" spellcheck="false" name="history-pmhx" clinic-search="Past Medical History (PMHx)" id="" clinic-parameter="pmhx" class="bigbox"></textarea>
                    </label>
                    <h4>Systems Review</h4>
                    <label>
                        Recent Illness
                        <div class="hstack">
                            <div class="selectbox">
                                <select clinic-parameter="recently-ill" clinic-search="Recent Illness" autocomplete="off">
                                    <option value="" selected disabled></option>
                                    <option value="YES">Yes</option>
                                    <option value="no">No</option>
                                </select>
                            </div>
                            <input type="text" placeholder="Details" autocomplete="off" clinic-parameter="recently-ill-details">
                        </div>
                    </label>
                    <label>
                        GORD
                        <div class="hstack">
                            <div class="selectbox">
                                <select clinic-parameter="gord" clinic-search="GORD">
                                    <option value="" disabled selected></option>
                                    <option value="none">No symptoms</option>
                                    <option value="yes, medicated">Yes, on medication</option>
                                    <option value="yes, NOT medicated">Yes, off medication</option>
                                </select>
                            </div>
                            <input type="text" clinic-parameter="gord-details" placeholder="Details">
                        </div>
                    </label>
                    <div class="hstack">
                        <label>
                            METs
                            <div class="selectbox">
                                <select clinic-parameter="mets" clinic-search="Metabolic Equivalents (METs)">
                                    <option value="" disabled selected></option>
                                    <option value="LESS than 4">&lt; 4</option>
                                    <option value="more than 4">≥ 4</option>
                                </select>
                            </div>
                        </label>
                        <label>
                            Can Lay Flat
                            <div class="selectbox">
                                <select clinic-parameter="flat" clinic-search="Able to Lay Flat">
                                    <option value="" disabled selected></option>
                                    <option value="NOT able to lay flat">No</option>
                                    <option value="Able to lay flat">Yes</option>
                                </select>
                            </div>
                        </label>
                    </div>
                    <label>
                        Exercise Tolerance
                        <input type="text" clinic-parameter="mets-details" clinic-search="Exercise Tolerance" placeholder="">
                    </label>
                    <h4>Social History</h4>
                    <label>
                        Smoking
                        <div class="hstack">
                            <div class="selectbox">
                                <select clinic-parameter="smoking" clinic-search="Smoking Status" autocomplete="off">
                                    <option value="" selected disabled></option>
                                    <option value="active smoker">Active smoker</option>
                                    <option value="ex-smoker">Ex-smoker</option>
                                    <option value="never smoked">Never smoked</option>
                                </select>
                            </div>
                            <input type="text" placeholder="Details" autocomplete="off" clinic-parameter="smoking-details">
                        </div>
                    </label>
                    <div class="hstack">
                        <label>
                            Alcohol
                            <input type="text" autocomplete="off" clinic-parameter="etoh" clinic-search="Alcohol (etOH) Use">
                        </label>
                        <label>
                            Drugs
                            <input type="text" autocomplete="off" clinic-parameter="drugs" clinic-search="Substance Use (Drugs)">
                        </label>
                    </div>
                    <div class="hstack">
                        <label>
                            Occupation
                            <input type="text" autocomplete="off" clinic-parameter="occupation" clinic-search="Occupation">
                        </label>
                        <label>
                            Functioning
                            <input type="text" autocomplete="off" clinic-parameter="functional-status" clinic-search="Functional Status">
                        </label>
                    </div>
                    <label>
                        Other
                        <textarea autocomplete="off" autocapitalize="off" spellcheck="false" id="" clinic-parameter="shx" class="bigbox tiny" placeholder=""></textarea>
                    </label>
                </div>
                <div class="output">
                    <input class="copy" tabindex="1" value="Copy" type="button">
                    <div class="rendered-template"></div>
                    <template># PMHx
{{pmhx}}
<br>
# Systems Review
- Recent illness: {{recently-ill}}
--&gt; {{recently-ill-details}}
- GORD: {{gord}}
--&gt; {{gord-details}}
- METs: {{mets}}
- Supine: {{flat}}
- Exercise: {{mets-details}}
<br>
# SHx
- Smoking: {{smoking}}
--&gt; {{smoking-details}}
- etOH: {{etoh}}
- Illicit drugs: {{drugs}}
- Occupation: {{occupation}}
- Functional status: {{functional-status}}
{{shx}}</template>
                </div>
            </section>
            <section>
                <div class="input vstack">
                    <label>
                        Medications
                        <textarea autocomplete="off" autocapitalize="off" clinic-parameter="rx" clinic-search="Medications" class="bigbox "></textarea>
                    </label>
                    <label>
                        Supplements
                        <textarea autocomplete="off" autocapitalize="off" clinic-parameter="herbs" clinic-search="Supplements" class="bigbox short"></textarea>
                    </label>
                    <label>
                        Adverse Drug Reactions
                        <textarea autocomplete="off" autocapitalize="off" clinic-parameter="allergies" clinic-search="Adverse Drug Reactions (Allergies)" class="bigbox tiny"></textarea>
                    </label>
                </div>
                <div class="output">
                    <input class="copy" tabindex="1" value="Copy" type="button">
                    <div class="rendered-template"></div>
                    <template># Medications
{{rx}}
<br>
# Supplements
{{herbs}}
<br>
# Allergies
{{allergies}}</template>
                </div>
            </section>

            <h2>Anaesthetic History</h2>
            <section>
                <div class="input vstack">
                    <label>
                        Previous Surgery
                        <textarea autocomplete="off" autocapitalize="off" spellcheck="false" id="" clinic-parameter="pahx" clinic-search="Surgical and Anaesthetic History" class="bigbox short"></textarea>
                    </label>
                    <h4>Anaesthesia Summary</h4>
                    <div class="hstack">
                        <div class="vstack">
                            <label>
                                BVM
                                <input type="text" clinic-parameter="bvm" clinic-search="BVM" autocomplete="off" placeholder="Difficulty, adjuncts">
                            </label>
                            <label>
                                LMA
                                <input type="text" clinic-parameter="lma" clinic-search="LMA" autocomplete="off" placeholder="Type, size">
                            </label>
                            <label>
                                ETT
                                <input type="text" clinic-parameter="ett" clinic-search="ETT" autocomplete="off" placeholder="Scope, view, BURP">
                            </label>
                        </div>
                        <div class="vstack">
                            <label>
                                Agents Used
                                <input type="text" clinic-parameter="agents" clinic-search="Previous Anaesthetic Agents Used" autocomplete="off">
                            </label>
                            <label>
                                Haemodynamics
                                <input type="text" clinic-parameter="haemodynamics" clinic-search="Haemodynamics Under Anaesthesia" autocomplete="off">
                            </label>
                            <label>
                                Complications
                                <input type="text" clinic-parameter="gas-issues" clinic-search="Complications from Anaesthesia" autocomplete="off">
                            </label>
                        </div>

                    </div>
                    <h4>Airway Assessment</h4>
                    <div class="vstack">
                        <label clinic-search="Airway Assessment">
                            Dentition
                            <input type="text" clinic-parameter="teeth" clinic-search="Dentition/Teeth Assessment" autocomplete="off">
                        </label>
                        <div class="hstack">
                            <label>
                                Mallampati
                                <div class="selectbox">
                                    <select clinic-parameter="mallampati" clinic-search="Mallampati Score" autocomplete="off">
                                        <option value="" disabled selected></option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                    </select>
                                </div>
                            </label>
                            <label>
                                Mouth Opening
                                <input type="number" min="0" max="7" step="1" clinic-parameter="mouth-opening" clinic-search="Mouth Opening" autocomplete="off">
                            </label>
                        </div>
                        <div class="hstack">
                            <label>
                                TMD
                                <input type="number" min="0" max="12" step="1" clinic-parameter="tmd" clinic-search="Thyromental Distance" autocomplete="off">
                            </label>
                            <label>
                                Cricothyroid
                                <div class="selectbox">
                                    <select clinic-parameter="cricothyroid" clinic-search="Cricothyroid Membrane" autocomplete="off">
                                        <option value="" disabled selected></option>
                                        <option value="easily palpable">Easily palpable</option>
                                        <option value="intermediate">Intermediate</option>
                                        <option value="difficult">Difficult to locate</option>
                                        <option value="IMPALPABLE">Impalpable</option>
                                    </select>
                                </div>
                            </label>
                        </div>
                        <div class="hstack">
                            <label>
                                Jaw Protrusion
                                <div class="selectbox">
                                    <select clinic-parameter="jaw-protrusion" clinic-search="Jaw Protrusion" autocomplete="off">
                                        <option value="" disabled selected></option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>No
                                        <option value="C">C</option>
                                    </select>
                                </div>
                            </label>
                            <label>
                                Neck ROM
                                <div class="selectbox">
                                    <select clinic-parameter="neckrom" clinic-search="Neck Range of Motion (ROM)" autocomplete="off">
                                        <option value="" disabled selected></option>
                                        <option value="normal">Normal</option>
                                        <option value="mildly limited">Mildly limited</option>
                                        <option value="moderately limited">Moderately limited</option>
                                        <option value="severely limited">Severely limited</option>
                                        <option value="immobile">Immobile</option>
                                    </select>
                                </div>
                            </label>
                        </div>
                        <div class="hstack">
                            <label>
                                Beard
                                <div class="selectbox">
                                    <select clinic-parameter="beard" clinic-search="Beard" autocomplete="off">
                                        <option value="" disabled selected></option>
                                        <option value="YES, will trim">Will trim</option>
                                        <option value="YES, won't trim">Won't trim</option>
                                        <option value="no">No</option>
                                    </select>
                                </div>
                            </label>
                            <label>
                                Vein Quality
                                <div class="selectbox">
                                    <select clinic-parameter="veins" clinic-search="Vein Quality" autocomplete="off">
                                        <option value="" disabled selected></option>
                                        <option value="good">Good</option>
                                        <option value="fair">Fair</option>
                                        <option value="poor">Poor</option>
                                        <option value="very poor">Very poor</option>
                                    </select>
                                </div>
                            </label>
                        </div>
                        <h4>Other Findings</h4>
                        <div class="hstack">
                            <label>
                                Heart
                                <input type="text" clinic-parameter="heart" clinic-search="Heart Sounds" autocomplete="off">
                            </label>
                            <label>
                                Lungs
                                <input type="text" clinic-parameter="lung" clinic-search="Chest/Lung Sounds" autocomplete="off">
                            </label>
                        </div>
                        <label>
                            Other
                            <textarea autocomplete="off" autocapitalize="off" spellcheck="false" name="history-pmhx" id="" clinic-parameter="other-examination" class="bigbox tiny"></textarea>
                        </label>
                    </div>
                    <input type="text" clinic-sync="mode" clinic-parameter="mode" class="visually-hidden">
                </div>
                <div class="output">
                    <input class="copy" tabindex="1" value="Copy" type="button">
                    <div class="rendered-template"></div>
                    <template># Previous Surgery
{{pahx}}
<br>
## Anaesthesia Summary
- BVM: {{bvm}}
- LMA: {{lma}}
- ETT: {{ett}}
- Agents used: {{agents}}
- Haemodynamics: {{haemodynamics}}
- Complications: {{gas-issues}}
<br>
# Airway Assessment
- Dentition: {{teeth}}
- Mallampati: {{mallampati}}
- Mouth opening: {{mouth-opening}} cm
- Thyromental distance: {{tmd}} cm
- Cricothyroid: {{cricothyroid}}
- Neck ROM: {{neckrom}}
- Bearded: {{beard}}
- Jaw protrusion: {{jaw-protrusion}}
- Vein quality: {{veins}}
<br>
# Other Findings
- Heart sounds: {{heart}}
- Lung sounds: {{lung}}
{{other-examination}}

{{mode}}</template>
                </div>
            </section>
            <h2>Investigations</h2>
            <section>
                <div class="input">
                    <div class="vstack">
                        <label clinic-search="Investigations (Bloods etc.)">
                            Source
                            <input type="text" clinic-parameter="bloods-source" autocomplete="off" placeholder="When were these done?">
                        </label>
                        <div class="hstack">
                            <label>
                                FBC
                                <input type="text" clinic-parameter="fbc" autocomplete="off" clinic-search="Full Blood Count (FBC)">
                            </label>
                            <label>
                                UEC
                                <input type="text" clinic-parameter="uec" autocomplete="off" clinic-search="Urea and Electrolytes (UEC)">
                            </label>
                        </div>
                        <div class="hstack">
                            <label>
                                LFT
                                <input type="text" clinic-parameter="lft" autocomplete="off" clinic-search="Liver Function Tests (LFT)">
                            </label>
                            <label>
                                HbA1c
                                <input type="number" min="4" max="20" step="0.1" clinic-parameter="hba1c" autocomplete="off" clinic-search="Glycosylated Haemoglobin (HbA1c)">
                            </label>
                        </div>
                        <div class="hstack">
                            <label>
                                Iron Studies
                                <input type="text" clinic-parameter="iron" autocomplete="off" clinic-search="Iron Studies">
                            </label>
                            <label>
                                Coags
                                <input type="text" clinic-parameter="coags" autocomplete="off" clinic-search="Coagulation Profile">
                            </label>
                        </div>
                        <label>
                            ECG
                            <input type="text" clinic-parameter="ecg" clinic-search="ECG" autocomplete="off" clinic-search="ECG">
                        </label>
                        <label>
                            Other
                            <textarea autocomplete="off" autocapitalize="off" spellcheck="false" id="" clinic-parameter="other-ix" class="bigbox short" placeholder=""></textarea>
                        </label>
                    </div>
                </div>
                <div class="output">
                    <input class="copy" tabindex="1" value="Copy" type="button">
                    <div class="rendered-template"></div>
                    <template># Investigations
- Source: {{bloods-source}}
- FBC: {{fbc}}
- UEC: {{uec}}
- LFT: {{lft}}
- HbA1c: {{hba1c}}%
- Iron studies: {{iron}}
- Coags: {{coags}}
- ECG: {{ecg}}
{{other-ix}}</template>
                </div>
            </section>
            <h2>Consent</h2>
            <section>
                <div class="input" id="consent" clinic-search="Consent">
                    <label><input type="checkbox" tabindex=0 clinic-parameter="consent-ga">General Anaesthesia</label>
                    <label><input type="checkbox" tabindex=0 clinic-parameter="consent-sedation">Sedation</label>
                    <label><input type="checkbox" tabindex=0 clinic-parameter="consent-regional">Regional</label>
                    <label><input type="checkbox" tabindex=0 clinic-parameter="consent-neuraxial">Neuraxial</label>
                    <label><input type="checkbox" tabindex=0 clinic-parameter="consent-artline">Arterial Line</label>
                    <label><input type="checkbox" tabindex=0 clinic-parameter="consent-cvc">Central Venous Access</label>
                    <label><input type="checkbox" tabindex=0 clinic-parameter="consent-blood">Blood Products</label>
                    <textarea type="text" clinic-parameter="consent-output" class="visually-hidden"></textarea>
                </div>
                <div class="output" style="margin-top: 0;">
                    <input class="copy" tabindex="1" value="Copy" type="button">
                    <div class="rendered-template"></div>
                    <template># Informed Consent
{{consent-output}}
                    </template>
                </div>

            </section>

            <h2>Risk Assessment</h2>
            <section>
                <div class="input">
                    <div class="hstack">
                        <label>
                            STOP-BANG
                            <div clinic-calculator clinic-interpreter="stopbang" clinic-search="STOP-BANG Calculator">
                                <label><input type="checkbox" tabindex=0 clinic-parameter="snorer">Snorer</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="daytime-tiredness">Tiredness</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="observed-apnoea">Observed apnoea</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="hypertensive" clinic-sync="htn">Hypertensive</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="stopbang-bmi-35" id="stopbang-bmi">BMI > 35</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="stopbang-age" id="stopbang-age">Age > 50</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="stopbang-neck">Neck ≥ 40cm</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="stopbang-sex" id="stopbang-sex">Male</label>
                                <input type="text" clinic-calculator-output clinic-parameter="stopbang-score" clinic-sync="stopbang-score" class="visually-hidden">
                            </div>
                        </label>
                        <label>
                            RCRI
                            <div clinic-calculator clinic-interpreter="rcri" clinic-search="RCRI Calculator">
                                <label><input type="checkbox" tabindex=0 clinic-parameter="rcri-risky" autocomplete="off" id="">Elevated Risk*</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="rcri-ihd" autocomplete="off">IHD</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="rcri-ccf" autocomplete="off">CCF</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="rcri-cva" autocomplete="off">CVA</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="rcri-insulin" autocomplete="off">On insulin</label>
                                <label><input type="checkbox" tabindex=0 clinic-parameter="rcri-creatinine" autocomplete="off">Cr > 176.8 µmol/L</label>
                                <aside><small>* Intra-peritoneal, intra-thoracic, or supra-inguinal vascular surgery</small></aside>
                                <input type="text" clinic-calculator-output clinic-parameter="rcri-score" clinic-sync="rcri-score" class="visually-hidden">
                            </div>
                        </label>
                        <label>
                            Apfel
                            <div clinic-calculator clinic-interpreter="apfel" clinic-search="Apfel Calculator">
                                <label><input type="checkbox" tabindex=0 autocomplete="off" clinic-parameter="apfel-sex" id="apfel-sex">Female</label>
                                <label><input type="checkbox" tabindex=0 autocomplete="off" clinic-parameter="apfel-smoking" id="apfel-smoking" checked>Non-smoker</label>
                                <label><input type="checkbox" tabindex=0 autocomplete="off" clinic-parameter="apfel-ponv">Prior PONV</label>
                                <label><input type="checkbox" tabindex=0 autocomplete="off" clinic-parameter="apfel-opioids">Postop opioids</label>
                                <input type="text" clinic-calculator-output clinic-parameter="apfel-score" clinic-sync="apfel-score" class="visually-hidden">
                            </div>
                        </label>
                    </div>
                    <input type="text" clinic-sync="stopbang-score" clinic-parameter="stopbang-score" class="visually-hidden">
                    <input type="text" clinic-sync="rcri-score" clinic-parameter="rcri-score" class="visually-hidden">
                    <input type="text" clinic-sync="apfel-score" clinic-parameter="apfel-score" class="visually-hidden">
                    <input type="text" clinic-sync="osmrs-score" clinic-parameter="osmrs-score" class="visually-hidden">
                    <div class="vstack">
                        <h4>SORT Score</h4>
                            <div class="vstack" id="sort-container">
                                <form id="smart-search">
                                    <label>
                                        Smart Search ✨
                                        <div class="hstack">
                                            <input type="search" name="embed" clinic-search="SORT Score Calculator">
                                            <!-- <button>Search</button> -->
                                        </div>
                                    </label>
                                </form>
                                <ul id="smart-results" class="pill-list"></ul>
                                <label>
                                    Group
                                    <div class="selectbox">
                                        <select id="sort-maingroup">
                                            <option value="" selected disabled></option>
                                            <option value="Abdomen (excluding urinary and reproductive organs)">Abdomen (excluding urinary and reproductive organs)</option>
                                            <option value="Bones, joints and connective tissue/tendon muscle">Bones, joints and connective tissue/tendon muscle</option>
                                            <option value="Breast">Breast</option>
                                            <option value="Ear, nose and throat">Ear, nose and throat</option>
                                            <option value="Endoscopic gastrointestinal procedures">Endoscopic gastrointestinal procedures</option>
                                            <option value="Eye and orbital contents">Eye and orbital contents</option>
                                            <option value="Face, mouth, salivary and thyroid">Face, mouth, salivary and thyroid</option>
                                            <option value="Female reproductive organs">Female reproductive organs</option>
                                            <option value="Interventional Radiology">Interventional Radiology</option>
                                            <option value="Neurosurgery (Brain, cranium and intracranial organs)">Neurosurgery (Brain, cranium and intracranial organs)</option>
                                            <option value="Obstetrics (Pregnancy and confinement)">Obstetrics (Pregnancy and confinement)</option>
                                            <option value="Skin and subcutaneous tissue">Skin and subcutaneous tissue</option>
                                            <option value="Spine">Spine</option>
                                            <option value="Thorax and intra-thoracic organs">Thorax and intra-thoracic organs</option>
                                            <option value="Urinary system and male reproductive organs">Urinary system and male reproductive organs</option>
                                            <option value="Vascular System">Vascular System</option>
                                        </select>
                                    </div>
                                </label>
                                <label>
                                    Sub-Group
                                    <div class="selectbox">
                                        <select id="sort-subgroup">
                                            <option value="" selected disabled></option>
                                        </select>
                                    </div>
                                </label>
                                <label>
                                    Operation
                                    <div class="selectbox">
                                        <select id="sort-operation" clinic-parameter="operation" required>
                                            <option value="" selected disabled></option>
                                        </select>
                                    </div>
                                </label>
                                <div class="hstack">
                                    <label>Age<input type="number" clinic-parameter="age" clinic-sync="age" id="sort-age" min="0" max="125" step="1" required autocomplete="off"></label>
                                    <label>
                                        ASA-PS
                                        <div class="selectbox">
                                            <select clinic-parameter="asa" clinic-sync="asa" clinic-search="ASA-PS Score" autocomplete="off">
                                                <option value="" disabled selected></option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="6">6</option>
                                            </select>
                                        </div>
                                    </label>
                                    <label>
                                        Ugency
                                        <div class="selectbox">
                                            <select clinic-parameter="urgency" required>
                                                <option value="Elective" selected>Elective</option>
                                                <option value="Expedited">Expedited</option>
                                                <option value="Urgent">Urgent</option>
                                                <option value="Immediate">Immediate</option>
                                            </select>
                                        </div>
                                    </label>
                                </div>
                                <div class="hstack">
                                    <label>
                                        Thoracics, GI, or vascular?
                                        <div class="selectbox">
                                            <select clinic-parameter="tgv" required>
                                                <option value="" disabled selected></option>
                                                <option value="Yes">Yes</option>
                                                <option value="No">No</option>
                                            </select>
                                        </div>
                                    </label>
                                    <label>
                                        Malignancy?
                                        <div class="selectbox">
                                            <select clinic-parameter="malignancy" required>
                                                <option value="" disabled selected></option>
                                                <option value="Yes">Yes</option>
                                                <option value="No">No</option>
                                            </select>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            <input type="number" class="visually-hidden" clinic-parameter="sort-score">
                    </div>

                </div>
                <div class="output" style="margin-top: 0;">
                    <input class="copy" tabindex="1" value="Copy" type="button">
                    <div class="rendered-template"></div>
                    <template># Risk Assessment
- ASA: {{asa}}
- STOP-BANG: {{stopbang-score}}
- Apfel: {{apfel-score}}
- RCRI: {{rcri-score}}
- SORT: {{sort-score}}% (30 day mortality)</template>
                </div>
            </section>
            <h2>Plan</h2>
            <section>
                <div class="input vstack">
                    <label>
                        Key Issues
                        <textarea autocomplete="off" autocapitalize="off" spellcheck="false" id="" clinic-parameter="issues" clinic-search="Key Issues" clinic-sync="issues" class="bigbox tiny"></textarea>
                    </label>
                    <div class="label-ish" id="issues">
                        Suggested Issues ✨
                        <ul id="warnings" class="pill-list"></ul>
                    </div>
                </div>
                <div class="output">
                    <input class="copy" tabindex="1" value="Copy" type="button">
                    <div class="rendered-template"></div>
                    <template># Key Issues
{{issues}}</template>
                </div>
            </section>
            <section>
                <div class="input vstack">
                    <label>
                        Anaesthetic Plan
                        <textarea autocomplete="off" autocapitalize="off" spellcheck="false" id="" clinic-parameter="plan" clinic-search="Anaesthetic Plan" clinic-sync="plan" class="bigbox tiny"></textarea>
                    </label>
                </div>
                <div class="output">
                    <input class="copy" tabindex="1" value="Copy" type="button">
                    <div class="rendered-template"></div>
                    <template># Anaesthetic Plan
{{plan}}</template>
                </div>
            </section>
            <section>
                <div class="input vstack">
                    <label>
                        Medications and Fasting
                        <textarea autocomplete="off" autocapitalize="off" spellcheck="false" id="" clinic-parameter="medication" clinic-search="Medication and Fasting Plan" class="bigbox tiny"></textarea>
                    </label>
                </div>
                <div class="output">
                    <input class="copy" tabindex="1" value="Copy" type="button">
                    <div class="rendered-template"></div>
                    <template># Medications and Fasting
{{medication}}</template>
                </div>
            </section>
            <footer>
                <p>© Gas Notes. Check out the source code <a href="https://github.com/samnunn/gasnotes-clinic">on GitHub.</a> By using this software, you accept the <a href="#" onclick="welcomeDialog.showModal()">terms of use</a>.</p>
            </footer>
        </main>
        <dialog id="big-welcome">
            <div id="top">
                <h1>Welcome to Clinic Helper <span id="wave">👋</span></h1>
                <h3>A little app to help perioperative doctors get through their clinic days.</h3>
            </div>
            <div id="blurb">
                <!-- <h2>Features 🤖</h2>
                <p>So far eh.</p>
                <ul>
                    <li>Deez</li>
                    <li>Nuts</li>
                </ul> -->
                <h2>Security 🔐</h2>
                <p>The information you add to Clinic Helper never leaves your device. Absolutely no patient data is collected.</p>
                <img src="/clinic_data_safety.svg" alt="">
                <p>All computations, scores, and data-processing happen on-device. As long as you use this on a work-approved computer, your data is safe.</p>
                <h2>Responsiblity ⚖️</h2>
                <p>All efforts have been made to ensure that Clinic Helper won't steer you wrong, but <strong>you are still the doctor</strong>. You are responsible for double-checking your work and treating your own patients.</p>
                <p>This software is proudly provided free of charge under the <a href="https://github.com/samnunn/gasnotes-clinic/blob/main/LICENSE.txt">MIT License</a>. By using this software, you accept all such liability disclaimed in that license.</p>
            </div>
            <h3>Do you accept these terms?</h3>
            <div id="buttons">
                <a href="http://gasnotes.net" onclick="localStorage.setItem('clinic-last-welcome-date', '')"><button>Decline</button></a>
                <form method="dialog">
                    <button autofocus>Accept</button>
                </form>
            </div>
        </dialog>
        <dialog id="quick-add">
            <div class="hstack">
                <label>
                    # Key Issues
                    <textarea onfocus="this.selectionStart = this.selectionEnd = this.value.length" autocomplete="off" autocapitalize="off" spellcheck="false" id="" clinic-parameter="issues" clinic-sync="issues" class="bigbox"></textarea>
                </label>
                <label>
                    # Anaesthetic Plan
                    <textarea onfocus="this.selectionStart = this.selectionEnd = this.value.length" autocomplete="off" autocapitalize="off" spellcheck="false" id="" clinic-parameter="plan" clinic-sync="plan" class="bigbox"></textarea>
                </label>
            </div>
            <form method="dialog" style="margin: 1rem 0 0 0; float: right;">
                <div class="popup-info"><span class="key">tab</span> to switch  <span class="key">esc</span> to close</div>
                <button>Save and Close</button>
            </form>
        </dialog>
        <dialog id="quick-find">
            <input type="text" id="quick-find-input" autocomplete="off" autocapitalize="off" tabindex="2" placeholder="Search ✨" autofocus>
            <ul id="quick-find-results" class="pill-list"></ul>
            <form method="dialog" style="margin: 1rem 0 0 0; float: right;">
                <div class="popup-info"><span class="key">⬆</span><span class="key">⬇</span> to navigate  <span class="key">⏎</span> to go  <span class="key">esc</span> to close</div>
                <button>Close</button>
            </form>
        </dialog>
        <script src="/fuzzysort.min.js"></script>
        <script src="/main.js"></script>
    </body>
    </html>